{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst currentDate = Date.now() / 1000;\nconst dateTime = document.querySelector(\"#datetime-picker\");\nconst buttonStart = document.querySelector(\"[data-start]\");\nlet daysValue = document.querySelector(\"[data-days]\");\nlet hoursValue = document.querySelector(\"[data-hours]\");\nlet minutesValue = document.querySelector(\"[data-minutes]\");\nlet secondsValue = document.querySelector(\"[data-seconds]\");\nbuttonStart.setAttribute(\"disabled\", true);\nlet selectedTime = 0;\nlet timerID = 0;\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        if ((selectedDates[0].getTime()/1000)> currentDate) {\n            selectedTime = selectedDates[0].getTime() / 1000;\n            buttonStart.removeAttribute(\"disabled\");\n        }\n        else {\n            buttonStart.setAttribute(\"disabled\", true);\n            iziToast.error({\n                message: \"Please choose a date in the future\",\n                backgroundColor: \"#ef4040\",\n                messageColor: \"#ffffff\",\n                position: 'topRight', \n                theme: 'dark',\n            });\n        };\n    },\n};\nflatpickr(dateTime, options);\n\nconst startTimer = () => {\n    buttonStart.setAttribute(\"disabled\", true);\n    dateTime.setAttribute(\"disabled\", true);\n    timerID = setInterval(() => {\n        const timeForStart = Math.floor(selectedTime - currentDate);\n        daysValue.textContent = String(Math.floor(timeForStart / (24 * 60 * 60))).padStart(2, 0);\n        hoursValue.textContent = String(Math.floor(timeForStart % (24 * 60 * 60) / (60 * 60))).padStart(2, 0);\n        minutesValue.textContent = String(Math.floor(timeForStart % (60 * 60) / 60)).padStart(2, 0);\n        secondsValue.textContent = String(timeForStart % 60).padStart(2, 0);\n        selectedTime--;\n        if (timeForStart === 0) {\n            clearInterval(timerID)\n            buttonStart.removeAttribute(\"disabled\");\n            dateTime.removeAttribute(\"disabled\");\n            iziToast.info({\n                message: \"Interval stopped!\",\n                backgroundColor: \"#0090f0\",\n                messageColor: \"#ffffff\",\n                position: 'topRight', \n                theme: 'dark',\n            });\n            };\n    }, 1000)\n};\n\nbuttonStart.addEventListener(\"click\", startTimer);"],"names":["currentDate","dateTime","buttonStart","daysValue","hoursValue","minutesValue","secondsValue","selectedTime","timerID","options","selectedDates","iziToast","flatpickr","startTimer","timeForStart"],"mappings":"0IAMA,MAAMA,EAAc,KAAK,IAAK,EAAG,IAC3BC,EAAW,SAAS,cAAc,kBAAkB,EACpDC,EAAc,SAAS,cAAc,cAAc,EACzD,IAAIC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAe,SAAS,cAAc,gBAAgB,EAC1DJ,EAAY,aAAa,WAAY,EAAI,EACzC,IAAIK,EAAe,EACfC,EAAU,EAEd,MAAMC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACdA,EAAc,CAAC,EAAE,QAAS,EAAC,IAAOV,GACnCO,EAAeG,EAAc,CAAC,EAAE,QAAO,EAAK,IAC5CR,EAAY,gBAAgB,UAAU,IAGtCA,EAAY,aAAa,WAAY,EAAI,EACzCS,EAAS,MAAM,CACX,QAAS,qCACT,gBAAiB,UACjB,aAAc,UACd,SAAU,WACV,MAAO,MACvB,CAAa,EAER,CACL,EACAC,EAAUX,EAAUQ,CAAO,EAE3B,MAAMI,EAAa,IAAM,CACrBX,EAAY,aAAa,WAAY,EAAI,EACzCD,EAAS,aAAa,WAAY,EAAI,EACtCO,EAAU,YAAY,IAAM,CACxB,MAAMM,EAAe,KAAK,MAAMP,EAAeP,CAAW,EAC1DG,EAAU,YAAc,OAAO,KAAK,MAAMW,GAAgB,GAAK,GAAK,GAAG,CAAC,EAAE,SAAS,EAAG,CAAC,EACvFV,EAAW,YAAc,OAAO,KAAK,MAAMU,GAAgB,GAAK,GAAK,KAAO,GAAK,GAAG,CAAC,EAAE,SAAS,EAAG,CAAC,EACpGT,EAAa,YAAc,OAAO,KAAK,MAAMS,GAAgB,GAAK,IAAM,EAAE,CAAC,EAAE,SAAS,EAAG,CAAC,EAC1FR,EAAa,YAAc,OAAOQ,EAAe,EAAE,EAAE,SAAS,EAAG,CAAC,EAClEP,IACIO,IAAiB,IACjB,cAAcN,CAAO,EACrBN,EAAY,gBAAgB,UAAU,EACtCD,EAAS,gBAAgB,UAAU,EACnCU,EAAS,KAAK,CACV,QAAS,oBACT,gBAAiB,UACjB,aAAc,UACd,SAAU,WACV,MAAO,MACvB,CAAa,EAEb,EAAO,GAAI,CACX,EAEAT,EAAY,iBAAiB,QAASW,CAAU"}